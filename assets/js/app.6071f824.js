(function(t){function e(e){for(var n,o,r=e[0],u=e[1],c=e[2],m=0,d=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,r=1;r<a.length;r++){var u=a[r];0!==i[u]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0086":function(t,e,a){},"034f":function(t,e,a){"use strict";var n=a("85ec"),i=a.n(n);i.a},"06a3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"info"},[a("h1",{staticClass:"title"},[a("span",[t._v(t._s(t.moviesInfo.title))])]),a("div",{staticClass:"rate"},[a("van-rate",{attrs:{readonly:"","allow-half":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),a("span",[t._v(t._s(t.rating.average)+"分")])],1),a("p",{staticClass:"subTitle"},[a("span",[t._v(t._s(t.moviesInfo.wish_count)+"人想看")]),a("span",[t._v("国内上映日期:"+t._s(t.moviesInfo.mainland_pubdate))])]),a("hr"),t._l(t.photos,(function(e,n){return a("div",{key:n,staticClass:"showPhotos"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImages(e.thumb),expression:"getImages(item.thumb)"}],on:{click:function(e){return t.preview(n)}}})])})),a("p",{staticClass:"summary"},[t._v(t._s(t.moviesInfo.summary))]),a("h2",[t._v("主演")]),a("div",{staticClass:"casts"},t._l(t.casts,(function(e,n){return a("p",{key:n},[a("img",{attrs:{src:t.getImages(e.avatars.large),alt:""}}),a("span",[t._v(t._s(e.name))])])})),0),a("v-mcomment",{attrs:{url:"/movie/subject/"+t.id}})],2)},i=[],s=(a("fb6a"),a("0d03"),a("4662"),a("28a2")),o=(a("d354"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"mui-input-group"},[a("div",{staticClass:"input-row"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],attrs:{placeholder:"请输入评论内容(最多120字)"},domProps:{value:t.inputvalue},on:{input:function(e){e.target.composing||(t.inputvalue=e.target.value)}}})]),a("van-button",{staticClass:"button",attrs:{type:"info",size:"large"},on:{click:function(e){return e.preventDefault(),t.addComment(e)}}},[t._v("发表评论")]),a("ul",{staticClass:"mui-table-view"},t._l(t.comments,(function(e){return a("li",{key:e.id,staticClass:"mui-table-view-cell"},[a("p",[t._v(t._s(e.content))]),a("div",{staticClass:"user"},[a("div",[a("img",{attrs:{src:e.author.avatar,alt:""}})]),a("div",[a("p",[t._v(t._s(e.author.name))]),a("p",[t._v("发表于:"+t._s(t._f("dateFormat")(e.created_at)))])])])])})),0)],1)])}),r=[],u={name:"v-mcomment",props:["url"],created:function(){this.getInfo()},data:function(){return{comments:[],id:this.$route.params.id,inputvalue:""}},methods:{getInfo:function(){var t=this;this.$axios({method:"GET",url:this.url,header:{"Content-Type":"json"}}).then((function(e){e.data.popular_comments?t.comments=e.data.popular_comments:t.comments=e.data.message}))},addComment:function(){var t=this;this.$axios({method:"GET",url:"/movie/subject/"+this.id}).then((function(){var e={content:t.inputvalue,author:{name:"匿名用户",avatar:"https://img1.doubanio.com/icon/u2126832-179.jpg"},created_at:new Date};t.comments.unshift(e),t.inputvalue=""}))}}},c=u,l=(a("189d"),a("2877")),m=Object(l["a"])(c,o,r,!1,null,null,null),d=m.exports,f={name:"v-info",components:{vMcomment:d},created:function(){this.getInfo()},data:function(){return{moviesInfo:{},photos:[],photosList:[],rating:{},casts:[],id:this.$route.params.id,value:0}},methods:{getInfo:function(){var t=this;this.$axios({method:"GET",url:"/movie/subject/"+this.id,header:{"Content-Type":"json"}}).then((function(e){console.log(e),t.moviesInfo=e.data,t.rating=e.data.rating,t.casts=e.data.casts,t.comments=e.data.popular_comments,t.value=t.rating.average/2,t.photos=e.data.photos.slice(0,4)}),(function(t){alert(t)}))},getImages:function(t){if(void 0!==t){var e=t.substring(7);return"https://images.weserv.nl/?url="+e}},addComment:function(){var t=this;this.$axios({method:"GET",url:"/movie/subject/"+this.id}).then((function(){var e={content:t.inputvalue,author:{name:"匿名用户",avatar:"https://img1.doubanio.com/icon/u2126832-179.jpg"},created_at:new Date};t.comments.unshift(e),t.inputvalue=""}))},preview:function(t){for(var e=[],a=0;a<this.photos.length;a++)e.push(this.getImages(this.photos[a].thumb));Object(s["a"])({images:e,startPosition:t,onClose:function(){}})}}},v=f,p=(a("8a74"),Object(l["a"])(v,n,i,!1,null,"2f536a4a",null));e["default"]=p.exports},"0884":function(t,e,a){},"0bf7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-gcomment",{attrs:{url:"http://www.liulongbin.top:3005/api/getcomments/"+t.id+"?pageindex=1"}})],1)},i=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"mui-input-group"},[a("div",{staticClass:"input-row"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputvalue,expression:"inputvalue"}],attrs:{placeholder:"请输入评论内容(最多120字)"},domProps:{value:t.inputvalue},on:{input:function(e){e.target.composing||(t.inputvalue=e.target.value)}}})]),a("van-button",{staticClass:"button",attrs:{type:"info",size:"large"},on:{click:function(e){return e.preventDefault(),t.addComment(e)}}},[t._v("发表评论")]),a("ul",{staticClass:"mui-table-view"},t._l(t.comments,(function(e){return a("li",{key:e.id,staticClass:"mui-table-view-cell"},[a("p",[t._v(t._s(e.content))]),a("div",{staticClass:"user"},[a("div",[a("p",[t._v(t._s(e.user_name))]),a("p",[t._v("发表于:"+t._s(t._f("dateFormat")(e.add_time)))])])])])})),0)],1)])},o=[],r=(a("0d03"),a("d354")),u={name:"v-gcomment",props:["url"],created:function(){this.getInfo()},data:function(){return{comments:[],id:this.$route.params.id,inputvalue:""}},methods:{getInfo:function(){var t=this;Object(r["a"])(this.url).then((function(e){console.log(e),t.comments=e.message}))},addComment:function(){var t=this;Object(r["a"])(this.url).then((function(e){var a={content:t.inputvalue,user_name:"匿名用户",add_time:new Date};t.comments.unshift(a),t.inputvalue=""}))}}},c=u,l=(a("73b3"),a("2877")),m=Object(l["a"])(c,s,o,!1,null,null,null),d=m.exports,f={components:{vGcomment:d},data:function(){return{id:this.$route.params.id,pageindex:1}}},v=f,p=Object(l["a"])(v,n,i,!1,null,null,null);e["default"]=p.exports},1774:function(t,e,a){"use strict";var n=a("9348"),i=a.n(n);i.a},"17ac":function(t,e,a){},"189d":function(t,e,a){"use strict";var n=a("52ba"),i=a.n(n);i.a},"18b7":function(t,e,a){},2525:function(t,e,a){"use strict";var n=a("0884"),i=a.n(n);i.a},2993:function(t,e,a){"use strict";var n=a("18b7"),i=a.n(n);i.a},"2c8b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rank"},[a("van-tabs",t._l(5,(function(e){return a("van-tab",{key:e,attrs:{title:4*(e-1)+1+"-"+4*e}},t._l(t.list.slice(4*(e-1),4*e),(function(e){return a("router-link",{key:e.id,staticClass:"mui-card",attrs:{tag:"div",to:"/home/rank/rankinfo/"+e.id}},[a("div",{staticClass:"mui-card-header"},[a("span",[t._v(t._s(e.title))]),a("span",[t._v(t._s(e.rating.average))])]),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImages(e.images.large),expression:"getImages(item.images.large)"}],attrs:{alt:""}}),a("div",{staticClass:"mui-card-footer"},[t._v("上映日期"+t._s(e.pubdates[1]))])])})),1)})),1)],1)},i=[],s=a("fd03"),o={created:function(){this.getRank()},data:function(){return{list:[]}},methods:{getRank:function(){var t=this;Object(s["b"])().then((function(e){console.log(e),t.list=e.subjects}))},getImages:function(t){if(void 0!==t){var e=t.substring(7);return"https://images.weserv.nl/?url="+e}}}},r=o,u=(a("2525"),a("2877")),c=Object(u["a"])(r,n,i,!1,null,"ce3e3330",null);e["default"]=c.exports},"2d3b":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Search")])])}],s={},o=s,r=a("2877"),u=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=u.exports},"33b2":function(t,e,a){t.exports=a.p+"assets/img/4.c8a25c98.png"},"3aac":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodslist"},[t._l(t.goodslist,(function(e,n){return a("router-link",{key:n,staticClass:"goodsitem",attrs:{tag:"div",to:"/home/goods/goodsinfo/"+e.id}},[a("img",{attrs:{src:e.img_url,alt:""}}),a("h5",[t._v(t._s(e.title))]),a("p",{staticClass:"price"},[a("del",[t._v("￥"+t._s(e.market_price))]),a("span",[t._v("￥"+t._s(e.sell_price))])]),a("p",{staticClass:"bottomtips"},[a("span",[t._v("热卖中")]),a("span",[t._v("库存"+t._s(e.stock_quantity))])])])})),a("van-button",{attrs:{type:"danger",size:"large"},on:{click:t.getMore}},[t._v("加载更多")])],2)},i=[],s=(a("99af"),a("fb6a"),a("fd03"),{created:function(){this.getgoods()},data:function(){return{goodslist:[],pageIndex:1}},methods:{getgoods:function(){var t=this;this.$axios.get("http://www.liulongbin.top:3005/api/getgoods?pageindex="+this.pageIndex).then((function(e){console.log(e),t.goodslist=t.goodslist.concat(e.data.message.slice(1,7))}))},getMore:function(){this.pageIndex++,this.getgoods()}}}),o=s,r=(a("5fe0"),a("2877")),u=Object(r["a"])(o,n,i,!1,null,"1dd54678",null);e["default"]=u.exports},"40c0":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"desc"},[a("h3",{staticClass:"title"},[t._v(t._s(t.desc.title))]),a("hr"),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.desc.content)}})])},i=[],s={created:function(){this.getdesc()},data:function(){return{desc:{}}},methods:{getdesc:function(){var t=this;this.$axios.get("http://www.liulongbin.top:3005/api/goods/getdesc/"+this.$route.params.id).then((function(e){t.desc=e.data.message[0],console.log(e.data)}))}}},o=s,r=(a("2993"),a("2877")),u=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=u.exports},4473:function(t,e,a){},"44e4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-info")],1)},i=[],s=a("06a3"),o={components:{vInfo:s["default"]}},r=o,u=a("2877"),c=Object(u["a"])(r,n,i,!1,null,null,null);e["default"]=c.exports},4660:function(t,e,a){t.exports=a.p+"assets/img/5.c3a5d3d1.png"},5067:function(t,e,a){t.exports=a.p+"assets/img/01.7d03b628.png"},"519e":function(t,e,a){},"52ba":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("b0c0"),a("b64b"),a("159b"),a("b000");var n=a("1a23"),i=(a("e7e5"),a("d399")),s=(a("ac1e"),a("543e")),o=(a("4056"),a("44bf")),r=(a("f06a"),a("20fb")),u=(a("7844"),a("5596")),c=(a("4b0a"),a("2bb1")),l=(a("c3a6"),a("ad06")),m=(a("5246"),a("6b41")),d=(a("4662"),a("28a2")),f=(a("66cf"),a("343b")),v=(a("da3c"),a("0b33")),p=(a("bda7"),a("5e46")),h=(a("4142"),a("39d1")),g=(a("66b9"),a("b650")),b=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("a026")),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("van-nav-bar",{attrs:{title:"电影坞",fixed:""}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],attrs:{slot:"left"},slot:"left"},[a("van-icon",{attrs:{name:"arrow-left",size:"20px"},on:{click:t.goBack}}),a("span",{staticClass:"back"},[t._v("返回")])],1)]),a("nav",{staticClass:"mui-bar mui-bar-tab"},[a("router-link",{staticClass:"mui-tab-item ",attrs:{to:"/home"}},[a("span",{staticClass:"mui-icon mui-icon-home"}),a("span",{staticClass:"mui-tab-label"},[t._v("首页")])]),a("router-link",{staticClass:"mui-tab-item",attrs:{to:"/member"}},[a("span",{staticClass:"mui-icon mui-icon-contact"}),a("span",{staticClass:"mui-tab-label"},[t._v("会员")])]),a("router-link",{staticClass:"mui-tab-item",attrs:{to:"/cart"}},[a("span",{staticClass:"mui-icon mui-icon-extra mui-icon-extra-cart"},[a("span",{staticClass:"mui-badge",attrs:{id:"badge"}},[t._v(t._s(t.$store.getters.getSummery))])]),a("span",{staticClass:"mui-tab-label"},[t._v("购物车")])]),a("router-link",{staticClass:"mui-tab-item",attrs:{to:"/search"}},[a("span",{staticClass:"mui-icon mui-icon-search"}),a("span",{staticClass:"mui-tab-label"},[t._v("搜索")])])],1),a("transition",{attrs:{"enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft",mode:"out-in",duration:500}},[a("router-view")],1)],1)},C=[],y={data:function(){return{flag:!1}},methods:{goBack:function(){this.$router.back()}},watch:{"$route.path":function(t,e){this.flag="/home"!=t}}},x=y,w=(a("034f"),a("2877")),k=Object(w["a"])(x,_,C,!1,null,null,null),$=k.exports,j=(a("d3b7"),a("8c4f")),I=(a("80d2"),a("b789"),a("2d3b"),a("bb51"),a("83ad"),a("06a3"),a("2c8b"),a("44e4"),a("3aac"),a("b186"),a("40c0"),a("0bf7"),j["a"].prototype.push);j["a"].prototype.push=function(t){return I.call(this,t).catch((function(t){return t}))},b["default"].use(j["a"]);var O=[{path:"/",redirect:"/home"},{path:"/home",component:function(){return Promise.resolve().then(a.bind(null,"bb51"))}},{path:"/member",component:function(){return Promise.resolve().then(a.bind(null,"80d2"))}},{path:"/cart",component:function(){return Promise.resolve().then(a.bind(null,"b789"))}},{path:"/search",component:function(){return Promise.resolve().then(a.bind(null,"2d3b"))}},{path:"/home/newslist",component:function(){return Promise.resolve().then(a.bind(null,"83ad"))}},{path:"/home/newslist/newsinfo/:id",component:function(){return Promise.resolve().then(a.bind(null,"06a3"))}},{path:"/home/rank",component:function(){return Promise.resolve().then(a.bind(null,"2c8b"))}},{path:"/home/rank/rankinfo/:id",component:function(){return Promise.resolve().then(a.bind(null,"44e4"))}},{path:"/home/goods",component:function(){return Promise.resolve().then(a.bind(null,"3aac"))}},{path:"/home/goods/goodsinfo/:id",component:function(){return Promise.resolve().then(a.bind(null,"b186"))}},{name:"desc",path:"/home/goods/desc/:id",component:function(){return Promise.resolve().then(a.bind(null,"40c0"))}},{name:"comment",path:"/home/goods/comment/:id",component:function(){return Promise.resolve().then(a.bind(null,"0bf7"))}}],S=new j["a"]({base:"",routes:O,linkActiveClass:"mui-active"}),E=S,P=(a("a4d3"),a("e01a"),a("d28b"),a("45fc"),a("a434"),a("e25e"),a("3ca3"),a("ddb0"),a("2f62"));b["default"].use(P["a"]);var N=JSON.parse(localStorage.getItem("car")||"[]"),z=new P["a"].Store({state:{car:N},mutations:{getCar:function(t,e){var a=!1,n=!0,i=!1,s=void 0;try{for(var o,r=t.car[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var u=o.value;u.id==e.id&&(u.count+=parseInt(e.count),a=!0)}}catch(c){i=!0,s=c}finally{try{n||null==r.return||r.return()}finally{if(i)throw s}}0==a&&t.car.push(e),localStorage.setItem("car",JSON.stringify(t.car))},updateCar:function(t,e){var a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;r.id==e.id&&(r.count=parseInt(e.count))}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}localStorage.setItem("car",JSON.stringify(t.car))},removeFromCar:function(t,e){t.car.some((function(a,n){a.id!=e||t.car.splice(n,1)})),localStorage.setItem("car",JSON.stringify(t.car))},changeSwitch:function(t,e){t.car.some((function(t){t.id!=e||(t.selected=!t.selected)})),localStorage.setItem("car",JSON.stringify(t.car))}},getters:{getInitValue:function(t){var e={},a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;e[r.id]=r.count}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return e},getMax:function(t){var e={},a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;e[r.id]=r.stock_quantity}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return e},getSelected:function(t){var e={},a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;e[r.id]=r.selected}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return e},getSummery:function(t){var e=0,a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;r.selected&&(e+=r.count)}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return e},getTotalPrice:function(t){var e=0,a=!0,n=!1,i=void 0;try{for(var s,o=t.car[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value;r.selected&&(e+=r.price*r.count)}}catch(u){n=!0,i=u}finally{try{a||null==o.return||o.return()}finally{if(n)throw i}}return e}}}),L=a("bc3a"),T=a.n(L),M=a("a7fe"),B=a.n(M),D=(a("4328"),a("0d03"),function(t){var e=new Date(t),a=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),s=e.getHours(),o=e.getMinutes(),r=e.getSeconds();return a+"-"+n+"-"+i+" "+s+":"+o+":"+r}),q={dateFormat:D},F=(a("aa35"),a("76a0"));a("17ac"),a("77ed"),a("4473");b["default"].use(B.a,T.a),b["default"].prototype.$axios=T.a,Object.keys(q).forEach((function(t){b["default"].filter(t,q[t])})),b["default"].use(g["a"]),b["default"].use(h["a"]),b["default"].use(v["a"]).use(p["a"]),b["default"].use(f["a"]),b["default"].use(d["a"]),b["default"].use(m["a"]),b["default"].use(l["a"]),b["default"].use(u["a"]).use(c["a"]),b["default"].use(r["a"]),b["default"].use(o["a"]),b["default"].use(s["a"]),b["default"].use(i["a"]),b["default"].use(n["a"]),b["default"].component(u["a"].name,u["a"]),b["default"].component(c["a"].name,c["a"]),b["default"].component(F["Header"].name,F["Header"]),b["default"].config.productionTip=!1,new b["default"]({router:E,store:z,render:function(t){return t($)}}).$mount("#app")},"5fe0":function(t,e,a){"use strict";var n=a("8151"),i=a.n(n);i.a},"619a":function(t,e,a){t.exports=a.p+"assets/img/3.74e3c56d.png"},7026:function(t,e,a){"use strict";var n=a("e90f"),i=a.n(n);i.a},"73b3":function(t,e,a){"use strict";var n=a("519e"),i=a.n(n);i.a},7863:function(t,e,a){"use strict";var n=a("0086"),i=a.n(n);i.a},"80d2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Member")])])}],s={},o=s,r=a("2877"),u=Object(r["a"])(o,n,i,!1,null,null,null);e["default"]=u.exports},8151:function(t,e,a){},"81e5":function(t,e,a){t.exports=a.p+"assets/img/2.7b1d150b.png"},"83ad":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"mui-table-view mui-table-view-chevron"},t._l(t.newsList,(function(e,n){return a("li",{key:n,staticClass:"mui-table-view-cell mui-media"},[a("router-link",{staticClass:"mui-navigate-right",attrs:{to:"/home/newslist/newsinfo/"+e.id}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getImages(e.images.small),expression:"getImages(item.images.small)"}],staticClass:"mui-media-object mui-pull-left"}),a("div",{staticClass:"mui-media-body"},[a("h1",[t._v(t._s(e.title))]),a("p",{staticClass:"mui-ellipsis"},[t._v("类型:"+t._s(e.genres.join()))]),a("p",{staticClass:"mui-ellipsis"},[t._v("主演:"+t._s(e.directors[0].name))]),a("p",{staticClass:"mui-ellipsis"},[a("span",[t._v("上映时间:"+t._s(e.mainland_pubdate))]),a("span",[t._v("时长:"+t._s(e.durations[0]))])])])])],1)})),0)])},i=[],s=(a("fb6a"),a("fd03")),o={created:function(){this.getNews()},data:function(){return{newsList:[]}},methods:{getNews:function(){var t=this;Object(s["a"])().then((function(e){t.newsList=e.subjects.slice(0,20),console.log(e)}))},getImages:function(t){if(void 0!==t){var e=t.substring(7);return"https://images.weserv.nl/?url="+e}},onClickLeft:function(){this.$router.push("../")}}},r=o,u=(a("f789"),a("2877")),c=Object(u["a"])(r,n,i,!1,null,"5cccda84",null);e["default"]=c.exports},"85ec":function(t,e,a){},"86fe":function(t,e,a){},"8a74":function(t,e,a){"use strict";var n=a("86fe"),i=a.n(n);i.a},9348:function(t,e,a){},"9dff":function(t,e,a){},a970:function(t,e,a){t.exports=a.p+"assets/img/yerank.47d8b0c1.png"},b186:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodsinfo"},[a("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],ref:"ball",staticClass:"ball"})]),a("van-swipe",{attrs:{autoplay:3e3}},t._l(t.images,(function(t,e){return a("van-swipe-item",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.src,expression:"item.src"}]})])})),1),a("div",{staticClass:"mui-card"},[a("div",{staticClass:"mui-card-header"},[t._v(t._s(t.goodsinfo.title))]),a("div",{staticClass:"mui-card-content"},[a("p",{staticClass:"price"},[a("del",[t._v("￥"+t._s(t.goodsinfo.market_price))]),a("span",[t._v("￥"+t._s(t.goodsinfo.sell_price))])]),a("div",{ref:"numbox",staticClass:"stepper"},[a("span",[t._v("购买数量")]),a("num-box",{attrs:{max:t.goodsinfo.stock_quantity},on:{getCount:t.getSelectCount}})],1),a("br"),a("p",{staticClass:"btn"},[a("button",{staticClass:"mui-btn mui-btn-warning",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addCart(e)}}},[t._v("加入购物车")]),a("button",{staticClass:"mui-btn mui-btn-danger",attrs:{type:"button"}},[t._v("立即购买")])])])]),a("div",{staticClass:"mui-card"},[a("div",{staticClass:"mui-card-header header"},[t._v("商品参数")]),a("div",{staticClass:"mui-card-content goodsArg"},[a("p",[t._v("商品货号:"+t._s(t.goodsinfo.goods_no))]),a("p",[t._v("库存:"+t._s(t.goodsinfo.stock_quantity)+"件")]),a("p",[t._v("上架时间:"+t._s(t._f("dateFormat")(t.goodsinfo.add_time)))])]),a("div",{staticClass:"mui-card-footer"},[a("button",{staticClass:"mui-btn mui-btn-primary mui-btn-outlined",attrs:{type:"button"},on:{click:t.desc}},[t._v("图文介绍")]),a("button",{staticClass:"mui-btn mui-btn-danger mui-btn-outlined",attrs:{type:"button"},on:{click:t.comment}},[t._v("商品评论")])]),a("router-view")],1)],1)},i=[],s=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mui-numbox"},[a("button",{staticClass:"mui-btn mui-numbox-btn-minus",attrs:{type:"button"},on:{click:t.sub}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"count",staticClass:"mui-numbox-input",attrs:{type:"number"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("button",{staticClass:"mui-btn mui-numbox-btn-plus",attrs:{type:"button"},on:{click:t.add}},[t._v("+")])])}),o=[],r={name:"numBox",props:["max"],data:function(){return{value:1}},methods:{add:function(){this.value<this.max&&this.value>=1&&this.value++,this.value>this.max?this.value=this.max:this.value<1&&(this.value=1)},sub:function(){this.value<=this.max&&this.value>1&&this.value--,this.value<1?this.value=1:this.value>this.max&&(this.value=this.max)}},watch:{value:function(){this.$emit("getCount",this.value)}}},u=r,c=a("2877"),l=Object(c["a"])(u,s,o,!1,null,null,null),m=l.exports,d={components:{numBox:m},created:function(){this.getImages(),this.getGoodsInfo()},data:function(){return{id:this.$route.params.id,images:[],goodsinfo:{},flag:!1,count:1}},methods:{beforeEnter:function(t){t.style.left=this.$refs.numbox.getBoundingClientRect().left+200+"px",t.style.top=this.$refs.numbox.getBoundingClientRect().top+"px",t.style.transform="translate(0,0)"},enter:function(t,e){t.offsetWidth;var a=this.$refs.ball.getBoundingClientRect(),n=document.getElementById("badge").getBoundingClientRect(),i=n.left-a.left,s=n.top-a.top;t.style.transform="translate(".concat(i,"px, ").concat(s,"px)"),t.style.transition="all 0.5s cubic-bezier(.4,-0.3,1,.68)",e()},afterEnter:function(t){this.flag=!this.flag},getImages:function(){var t=this;this.$axios.get("http://www.liulongbin.top:3005/api/getthumimages/"+this.id).then((function(e){t.images=e.data.message}))},getGoodsInfo:function(){var t=this;this.$axios.get("http://www.liulongbin.top:3005/api/goods/getinfo/"+this.id).then((function(e){t.goodsinfo=e.data.message[0]}))},addCart:function(){this.flag=!this.flag;var t={id:this.id,count:this.count,selected:!0,price:this.goodsinfo.sell_price,stock_quantity:this.goodsinfo.stock_quantity};this.count>=1&&this.count<this.goodsinfo.stock_quantity?this.$store.commit("getCar",t):this.$toast.fail("不合法输入")},desc:function(t){t=this.id,this.$router.push({name:"desc",params:{id:t}})},comment:function(t){t=this.id,this.$router.push({name:"comment",params:{id:t}})},getSelectCount:function(t){this.count=t}}},f=d,v=(a("7863"),Object(c["a"])(f,n,i,!1,null,"7b3fd361",null));e["default"]=v.exports},b789:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[t._l(t.goodslist,(function(e,n){return a("div",{key:n,staticClass:"card"},[a("div",{staticClass:"show"},[a("van-switch",{on:{click:function(a){return t.handelSwitch(e.id)}},model:{value:t.checked[e.id],callback:function(a){t.$set(t.checked,e.id,a)},expression:"checked[item.id]"}}),a("img",{attrs:{src:e.thumb_path,alt:""}})],1),a("div",{staticClass:"goodsinfo"},[a("h3",[t._v(t._s(e.title))]),a("p",{staticClass:"control"},[a("span",[t._v("¥"+t._s(e.sell_price))]),a("car-numbox",{attrs:{initCount:t.$store.getters.getInitValue[e.id],stock:t.$store.getters.getMax[e.id],id:e.id}}),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.remove(e.id,n)}}},[t._v("删除")])],1)])])})),a("div",{staticClass:"Settlement"},[a("h4",[t._v("总计(不含运费)")]),a("p",{staticClass:"pay"},[a("span",[t._v("已选中"),a("span",{staticClass:"number"},[t._v(t._s(t.$store.getters.getSummery))]),t._v("件,总价:¥"),a("span",{staticClass:"number"},[t._v(t._s(t.$store.getters.getTotalPrice))]),t._v(" 元")]),a("van-button",{attrs:{type:"danger"}},[t._v("去结算")])],1)])],2)},i=[],s=(a("4160"),a("a15b"),a("a434"),a("159b"),a("d354")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mui-numbox"},[a("button",{staticClass:"mui-btn mui-numbox-btn-minus",attrs:{type:"button"},on:{click:t.sub}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"mui-numbox-input",attrs:{type:"number",readonly:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),a("button",{staticClass:"mui-btn mui-numbox-btn-plus",attrs:{type:"button"},on:{click:t.add}},[t._v("+")])])},r=[],u={name:"carNumbox",props:["initCount","stock","id"],data:function(){return{value:this.initCount,max:this.stock}},methods:{add:function(){this.value<this.max&&this.value>=1&&this.value++,this.value>this.max?this.value=this.max:this.value<1&&(this.value=1)},sub:function(){this.value<=this.max&&this.value>1&&this.value--,this.value<1?this.value=1:this.value>this.max&&(this.value=this.max)}},watch:{value:function(t,e){var a={id:this.id,count:this.value};this.$store.commit("updateCar",a)}}},c=u,l=a("2877"),m=Object(l["a"])(c,o,r,!1,null,null,null),d=m.exports,f={components:{carNumbox:d},created:function(){this.getCartinfo()},data:function(){return{checked:this.$store.getters.getSelected,goodslist:[]}},methods:{getCartinfo:function(){var t=this,e=[];this.$store.state.car.forEach((function(t){return e.push(t.id)})),e.length<=0||Object(s["a"])("http://www.liulongbin.top:3005/api/goods/getshopcarlist/"+e.join(",")).then((function(e){console.log(e.message),t.goodslist=e.message}))},remove:function(t,e){this.goodslist.splice(e,1),this.$store.commit("removeFromCar",t)},handelSwitch:function(t){this.$store.commit("changeSwitch",t)}}},v=f,p=(a("7026"),Object(l["a"])(v,n,i,!1,null,"dbc46f66",null));e["default"]=p.exports},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("van-swipe",{attrs:{autoplay:4e3}},t._l(t.imgList,(function(e,a){return n("van-swipe-item",{key:a},[n("van-image",{staticClass:"swpImg",attrs:{src:t.getImages(e.images.large),alt:""},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})],1)})),1),n("ul",{staticClass:"mui-table-view mui-grid-view mui-grid-9"},[n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("router-link",{attrs:{to:"/home/newslist"}},[n("img",{attrs:{src:a("5067"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("正在热映")])])],1),n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("router-link",{attrs:{to:"/home/rank"}},[n("img",{attrs:{src:a("a970"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("高分排行")])])],1),n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("router-link",{attrs:{to:"/home/goods"}},[n("img",{attrs:{src:a("33b2"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("商品购买")])])],1),t._m(0),t._m(1),t._m(2)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:a("619a"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("留言反馈")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:a("4660"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("视频中心")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"mui-table-view-cell mui-media mui-col-xs-4 mui-col-sm-3"},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:a("81e5"),alt:""}}),n("div",{staticClass:"mui-media-body"},[t._v("联系我们")])])])}],s=(a("fb6a"),a("bc3a"),a("fd03")),o={created:function(){this.getLunbo()},data:function(){return{imgList:[]}},methods:{getLunbo:function(){var t=this;Object(s["a"])({header:{"Content-Type":"json"}}).then((function(e){console.log(e),t.imgList=e.subjects.slice(0,5)}),(function(t){console.log("失败")}))},getImages:function(t){if(void 0!==t){var e=t.substring(7);return"https://images.weserv.nl/?url="+e}}}},r=o,u=(a("1774"),a("2877")),c=Object(u["a"])(r,n,i,!1,null,"0f6bc83a",null);e["default"]=c.exports},d354:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("d3b7");var n=a("bc3a"),i=a.n(n);a("4328");function s(t,e){return new Promise((function(a,n){i.a.get(t,{params:e}).then((function(t){a(t.data)})).catch((function(t){n(t.data)}))}))}i.a.defaults.baseURL="https://douban.uieee.com/v2",i.a.defaults.timeout=1e4},e90f:function(t,e,a){},f789:function(t,e,a){"use strict";var n=a("9dff"),i=a.n(n);i.a},fd03:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));var n=a("d354"),i=function(t){return Object(n["a"])("/movie/in_theaters/",t)},s=function(t){return Object(n["a"])("/movie/top250/",t)}}});
//# sourceMappingURL=app.6071f824.js.map